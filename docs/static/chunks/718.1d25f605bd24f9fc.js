"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[718],{8208:function(e,t,a){a.d(t,{h:function(){return n}});var l=a(5893),r=a(7294);let s=[{name:"Trabalho",emojis:["\uD83D\uDCBC","\uD83D\uDCBB","\uD83D\uDCCA","\uD83D\uDCC8","\uD83D\uDCDD","✏️","\uD83D\uDCCC","\uD83D\uDCCD","\uD83D\uDDC2️","\uD83D\uDCC1","\uD83D\uDCC2","\uD83D\uDDC4️","\uD83D\uDCC5","⏰","⌚"]},{name:"Estudo",emojis:["\uD83D\uDCDA","\uD83D\uDCD6","✏️","\uD83D\uDCDD","\uD83C\uDF93","\uD83C\uDF92","\uD83D\uDCD3","\uD83D\uDCD4","\uD83D\uDCD2","\uD83D\uDCD5","\uD83D\uDCD7","\uD83D\uDCD8","\uD83D\uDCD9","\uD83D\uDD0D","\uD83D\uDCD0"]},{name:"Sa\xfade",emojis:["\uD83C\uDFC3","\uD83C\uDFCB️","\uD83E\uDDD8","\uD83D\uDEB4","\uD83C\uDFBE","⚽","\uD83C\uDFCA","\uD83D\uDCAA","\uD83E\uDD57","\uD83E\uDD51","\uD83C\uDF4E","\uD83D\uDC8A","\uD83C\uDFE5","\uD83E\uDDE0","❤️"]},{name:"Social",emojis:["\uD83D\uDC65","\uD83E\uDD1D","\uD83D\uDDE3️","\uD83D\uDCAC","\uD83C\uDF89","\uD83C\uDF8A","\uD83C\uDFAD","\uD83C\uDFAA","\uD83C\uDFAB","\uD83C\uDF9F️","\uD83C\uDF7D️","\uD83C\uDF7B","\uD83E\uDD42","\uD83C\uDFAE","\uD83C\uDFB2"]},{name:"Lazer",emojis:["\uD83C\uDFAE","\uD83C\uDFAC","\uD83C\uDFB5","\uD83C\uDFA8","\uD83D\uDCFA","\uD83C\uDFAD","\uD83C\uDFAA","\uD83C\uDFA2","\uD83C\uDFA1","\uD83C\uDFAF","\uD83C\uDFB1","\uD83C\uDFB2","\uD83C\uDFB3","\uD83C\uDFB0","\uD83C\uDFAA"]},{name:"Rotina",emojis:["\uD83D\uDEC1","\uD83D\uDEBF","\uD83E\uDDF9","\uD83E\uDDFA","\uD83D\uDED2","\uD83C\uDF73","\uD83D\uDECB️","\uD83D\uDE97","\uD83D\uDE8C","\uD83C\uDFE0","\uD83D\uDCF1","\uD83D\uDCA1","\uD83D\uDD27","\uD83D\uDD28","\uD83E\uDDF0","☕"]}],n=e=>{let{onSelect:t,onClose:a}=e,[n,i]=(0,r.useState)(0);return(0,l.jsx)("div",{className:"fixed inset-0 z-50",onClick:a,children:(0,l.jsxs)("div",{className:"fixed bg-gray-800 border border-gray-700 rounded-lg shadow-xl",onClick:e=>e.stopPropagation(),style:{width:"280px",maxHeight:"380px",overflowY:"auto",scrollbarWidth:"thin",scrollbarColor:"#4B5563 #1F2937"},children:[(0,l.jsxs)("div",{className:"sticky top-0 bg-gray-800 p-3 border-b border-gray-700 flex items-center justify-between",children:[(0,l.jsx)("button",{onClick:()=>i(e=>e>0?e-1:s.length-1),className:"w-8 h-8 flex items-center justify-center hover:bg-gray-700 rounded-lg text-lg",children:"◀"}),(0,l.jsx)("span",{className:"text-base font-medium px-2",children:s[n].name}),(0,l.jsx)("button",{onClick:()=>i(e=>e<s.length-1?e+1:0),className:"w-8 h-8 flex items-center justify-center hover:bg-gray-700 rounded-lg text-lg",children:"▶"})]}),(0,l.jsx)("div",{className:"p-4",children:(0,l.jsx)("div",{className:"grid grid-cols-7 gap-3",children:s[n].emojis.map((e,a)=>(0,l.jsx)("button",{onClick:()=>t(e),className:"w-8 h-8 flex items-center justify-center text-2xl hover:bg-gray-700 rounded-lg transition-all duration-200 hover:scale-110",children:e},a))})})]})})}},5718:function(e,t,a){a.r(t);var l=a(5893),r=a(7294),s=a(6999),n=a(2843),i=a(3170),o=a(8847),d=a(1860),u=a(9533),c=a(8208);let x=e=>{let{task:t,onClose:a,onSave:s,onDelete:n}=e,[i,o]=(0,r.useState)({...t}),[d,u]=(0,r.useState)(!1),x=e=>{e.target===e.currentTarget&&a()};return(0,l.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:x,children:(0,l.jsxs)("div",{className:"bg-gray-900 rounded-lg p-6 w-full max-w-md",onClick:e=>e.stopPropagation(),children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Editar Tarefa"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex gap-2 items-start",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"\xcdcone"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("button",{onClick:()=>u(!d),className:"w-10 h-10 bg-gray-800 border border-gray-700 rounded-lg flex items-center justify-center text-xl hover:bg-gray-700 transition-colors",children:i.type}),d&&(0,l.jsx)(c.h,{onSelect:e=>{o({...i,type:e}),u(!1)},onClose:()=>u(!1)})]})]}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"T\xedtulo"}),(0,l.jsx)("input",{type:"text",value:i.title,onChange:e=>o({...i,title:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Hor\xe1rio"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("input",{type:"time",value:i.startTime,onChange:e=>o({...i,startTime:e.target.value}),className:"bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"}),(0,l.jsx)("span",{className:"text-gray-400 self-center",children:"at\xe9"}),(0,l.jsx)("input",{type:"time",value:i.endTime,onChange:e=>o({...i,endTime:e.target.value}),className:"bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[(0,l.jsx)("button",{onClick:()=>n(t.id),className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:"Excluir"}),(0,l.jsx)("button",{onClick:()=>s(i),className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors",children:"Salvar"})]})]})]})})},m={title:"",type:"\uD83D\uDCDD",notes:"",completed:!1,source:"schedule",startTime:"",endTime:"",days:[],gridPosition:0},g=[{value:0,label:"Dom"},{value:1,label:"Seg"},{value:2,label:"Ter"},{value:3,label:"Qua"},{value:4,label:"Qui"},{value:5,label:"Sex"},{value:6,label:"S\xe1b"}],p={name:"",title:"",type:"\uD83D\uDCDD",startTime:"09:00",endTime:"10:00",notes:"",completed:!1,gridPosition:0,weekDays:[],source:"schedule"},h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,a=(0,i.z)(t,{weekStartsOn:0});return(0,o.WU)((0,d.E)(a,e),"yyyy-MM-dd")},b=e=>{let{event:t,onClose:a,onSave:s,onDelete:n}=e,[i,o]=(0,r.useState)(t?{id:t.id,name:t.name,title:t.title,type:t.type,startTime:t.startTime||"09:00",endTime:t.endTime||"10:00",notes:t.notes,completed:t.completed,gridPosition:t.gridPosition||0,weekDays:t.weekDays,source:"schedule"}:p),[d,u]=(0,r.useState)(!1),x=e=>{e.target===e.currentTarget&&a()},m=()=>{i.name&&i.title&&i.startTime&&i.endTime&&0!==i.weekDays.length&&s(i)},h=()=>{t&&n&&n(t)};return(0,l.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:x,children:(0,l.jsxs)("div",{className:"bg-gray-900 rounded-lg p-6 w-full max-w-md",onClick:e=>e.stopPropagation(),children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4",children:t?"Editar Evento Padr\xe3o":"Novo Evento Padr\xe3o"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex gap-2 items-start",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"\xcdcone"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("button",{onClick:()=>u(!d),className:"w-10 h-10 bg-gray-800 border border-gray-700 rounded-lg flex items-center justify-center text-xl hover:bg-gray-700 transition-colors",children:i.type}),d&&(0,l.jsx)(c.h,{onSelect:e=>{o({...i,type:e}),u(!1)},onClose:()=>u(!1)})]})]}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Nome"}),(0,l.jsx)("input",{type:"text",value:i.name,onChange:e=>o({...i,name:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Ex: Academia di\xe1ria"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"T\xedtulo"}),(0,l.jsx)("input",{type:"text",value:i.title,onChange:e=>o({...i,title:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Ex: Academia"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Hor\xe1rio"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("input",{type:"time",value:i.startTime,onChange:e=>o({...i,startTime:e.target.value}),className:"bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"}),(0,l.jsx)("span",{className:"text-gray-400 self-center",children:"at\xe9"}),(0,l.jsx)("input",{type:"time",value:i.endTime,onChange:e=>o({...i,endTime:e.target.value}),className:"bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Dias da Semana"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:g.map(e=>(0,l.jsx)("button",{onClick:()=>{o(t=>({...t,weekDays:t.weekDays.includes(e.value)?t.weekDays.filter(t=>t!==e.value):[...t.weekDays,e.value]}))},className:"px-3 py-1.5 rounded-full text-sm transition-all duration-200 ".concat(i.weekDays.includes(e.value)?"bg-purple-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"),children:e.label},e.value))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Notas"}),(0,l.jsx)("textarea",{value:i.notes,onChange:e=>o({...i,notes:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",rows:3,placeholder:"Adicionar notas (opcional)"})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[n&&t&&(0,l.jsx)("button",{onClick:h,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:"Excluir"}),(0,l.jsx)("button",{onClick:m,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors",disabled:!i.name||!i.title||!i.startTime||!i.endTime||0===i.weekDays.length,children:"Salvar"})]})]})]})})},y=()=>{var e,t,a,y,D,f,v,j,k,N;let{tasks:C,addTask:w,updateTask:T,deleteTask:E}=(0,s.X)(),{defaultEvents:F,addDefaultEvent:S,removeDefaultEvent:A,updateDefaultEvent:P}=(0,n.K)(),[M,B]=(0,r.useState)(!1),[L,z]=(0,r.useState)(!1),[W,U]=(0,r.useState)(!1),[O,H]=(0,r.useState)(m),[I,_]=(0,r.useState)(p),[K,X]=(0,r.useState)(null),[Y,q]=(0,r.useState)(new Date),Q=(0,i.z)(Y,{weekStartsOn:0}),[R,Z]=(0,r.useState)(null),[G,J]=(0,r.useState)(null),[V,$]=(0,r.useState)(!1),[ee,et]=(0,r.useState)(0),[ea,el]=(0,r.useState)(null),[er,es]=(0,r.useState)(null),[en,ei]=(0,r.useState)(null),[eo,ed]=(0,r.useState)([]),[eu,ec]=(0,r.useState)([]),[ex,em]=(0,r.useState)(!1),[eg,ep]=(0,r.useState)(null),eh=Array.from({length:7},(e,t)=>{let a=(0,d.E)(Q,t);return{short:["dom","seg","ter","qua","qui","sex","sab"][t],full:(0,o.WU)(a,"yyyy-MM-dd"),display:(0,o.WU)(a,"d MMM",{locale:u.F})}}),eb=Array.from({length:12},(e,t)=>t),ey=(e,t)=>t?"bg-green-500/20 dark:bg-green-900/30 border-l-4 border-green-600 dark:border-green-700 hover:bg-green-500/30 dark:hover:bg-green-800/40":"bg-gray-100 dark:bg-gray-800/50 border-l-4 border-gray-300 dark:border-gray-700 hover:bg-gray-200 dark:hover:bg-gray-700/50",eD=(e,t,a)=>{H({...m,startTime:"",endTime:"",days:[e],gridPosition:t}),B(!0)},ef=()=>{O.title&&O.days.length>0&&(O.days.forEach(e=>{w({...O,days:[e],gridPosition:O.gridPosition})}),B(!1),H(m),ec(eB()))},ev=e=>{let t=C.find(t=>t.id===e);t&&T({...t,completed:!t.completed})},ej=e=>{let t=C.find(t=>t.id===e);t&&ed(e=>[t,...e].slice(0,10)),E(e)},ek=()=>{if(eo.length>0){let[e,...t]=eo;w(e),ed(t)}};eh.reduce((e,t)=>(e[t.full]=C.filter(e=>e.days.includes(t.full)).sort((e,t)=>e.startTime.localeCompare(t.startTime)),e),{});let eN=(e,t)=>{t.stopPropagation(),J(e)},eC=e=>{T(e),J(null)},ew=e=>{let t=e=>{let t=new Date,a=t.getDay(),l=new Date(t);return l.setDate(t.getDate()+(e-a)),l.toISOString().split("T")[0]};e.weekDays.forEach(a=>{let l=t(a),r=C.filter(e=>{var t;return null===(t=e.days)||void 0===t?void 0:t.includes(l)}),s=Math.max(0,...r.map(e=>e.gridPosition||0))+1,n={title:e.title,type:e.type,notes:e.notes,completed:!1,source:"schedule",startTime:e.startTime,endTime:e.endTime,days:[l],gridPosition:s};w(n)}),U(!1)},eT=e=>(0,o.WU)(new Date,"yyyy-MM-dd")===e,eE=e=>({top:"".concat(48*e,"px"),height:"48px"}),eF=(e,t)=>{t.stopPropagation();let a=t.currentTarget.getBoundingClientRect();es({task:e,initialPosition:e.gridPosition,mouseOffset:{x:t.clientX-a.left,y:t.clientY-a.top}}),ei({x:t.clientX,y:t.clientY})},eS=(e,t)=>{if(er){let a={...er.task,days:[e],gridPosition:t};T(a),es(null),ei(null)}},eA=(e,t)=>{eg&&(w({title:eg.title,type:eg.type,startTime:eg.startTime,endTime:eg.endTime,notes:eg.notes,completed:!1,gridPosition:t,days:[e]}),ep(null),ei(null))},eP=()=>{er&&(es(null),ei(null)),eg&&(ep(null),ei(null))};(0,r.useEffect)(()=>{let e=e=>{"Escape"===e.key&&(er&&(es(null),ei(null)),eg&&(ep(null),ei(null))),(e.ctrlKey||e.metaKey)&&"z"===e.key.toLowerCase()&&(e.preventDefault(),ek())};return window.addEventListener("keydown",e),window.addEventListener("mouseup",eP),()=>{window.removeEventListener("keydown",e),window.removeEventListener("mouseup",eP)}},[er,eg,eo]);let eM=e=>{e.stopPropagation(),$(!V)},eB=()=>{let e={};return C.forEach(t=>{t.title&&(e[t.title]=(e[t.title]||0)+1)}),Object.keys(e).sort((t,a)=>e[a]-e[t]).slice(0,5)};(0,r.useEffect)(()=>{ec(eB())},[C]);let eL=e=>{if(!e)return eu;let t=e.toLowerCase();return eu.filter(e=>e.toLowerCase().includes(t))},ez=e=>{let t=C.filter(t=>t.days.includes(e)),a=t.map(e=>e.gridPosition);for(let l=0;l<eb.length;l++)if(!a.includes(l))return l;return eb.length-1},eW=e=>{let t=eh.map(e=>e.full);e.weekDays.forEach(a=>{let l=t[a];if(l){let r=ez(l);w({title:e.title,type:e.type,startTime:e.startTime,endTime:e.endTime,notes:e.notes,completed:!1,gridPosition:r,days:[l]})}}),U(!1)};return(0,l.jsxs)("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-black text-gray-900 dark:text-gray-100",children:[(0,l.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between p-4 border-b border-gray-200 dark:border-gray-800 bg-white dark:bg-black",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-4 md:mb-0",children:[(0,l.jsx)("button",{onClick:()=>q(e=>(0,d.E)(e,-7)),className:"px-3 py-1.5 text-sm bg-gray-100 dark:bg-gray-800 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200",children:"Semana Anterior"}),(0,l.jsxs)("span",{className:"text-base font-semibold text-center",children:[(0,o.WU)(Q,"d 'de' MMMM",{locale:u.F})," - ",(0,o.WU)((0,d.E)(Q,6),"d 'de' MMMM",{locale:u.F})]}),(0,l.jsx)("button",{onClick:()=>q(e=>(0,d.E)(e,7)),className:"px-3 py-1.5 text-sm bg-gray-100 dark:bg-gray-800 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200",children:"Pr\xf3xima Semana"})]}),(0,l.jsx)("div",{className:"flex items-center gap-2",children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("button",{onClick:()=>U(!W),className:"px-3 py-1.5 text-sm bg-purple-100 dark:bg-purple-900/50 text-purple-900 dark:text-purple-100 rounded-lg hover:bg-purple-200 dark:hover:bg-purple-800/50 transition-all duration-200 flex items-center gap-2",children:[(0,l.jsx)("span",{children:"Eventos Padr\xe3o"}),(0,l.jsx)("svg",{className:"w-4 h-4 transition-transform duration-200 ".concat(W?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),W&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>U(!1)}),(0,l.jsxs)("div",{className:"absolute right-0 top-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50 w-80 transform transition-all duration-200 ease-in-out animate-fade-in",children:[(0,l.jsxs)("div",{className:"p-2 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[(0,l.jsx)("span",{className:"font-medium",children:"Eventos Padr\xe3o"}),(0,l.jsx)("button",{onClick:()=>{z(!0),U(!1)},className:"text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300",children:"+ Novo"})]}),(0,l.jsxs)("div",{className:"max-h-64 overflow-y-auto p-2",children:[F.map(e=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg group",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 flex-1 text-left cursor-pointer",onClick:()=>eW(e),children:[(0,l.jsx)("span",{className:"text-xl",children:e.type}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium",children:e.name}),(0,l.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.startTime," - ",e.endTime]}),(0,l.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.weekDays.map(e=>{var t;return null===(t=g.find(t=>t.value===e))||void 0===t?void 0:t.label}).join(", ")})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("button",{onClick:t=>{t.stopPropagation(),z(!0),U(!1),_({...e,name:e.name,source:"schedule"})},className:"p-1.5 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-500 dark:text-gray-400",title:"Editar evento",children:(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,l.jsx)("button",{onClick:t=>{t.stopPropagation(),A(e)},className:"p-1.5 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 text-red-500 dark:text-red-400",title:"Excluir evento",children:(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]},e.id)),0===F.length&&(0,l.jsx)("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"Nenhum evento padr\xe3o cadastrado"})]})]})]})]})})]}),(0,l.jsx)("div",{className:"flex-1 overflow-auto",children:(0,l.jsx)("div",{className:"flex flex-col md:flex-row",children:eh.map(e=>(0,l.jsxs)("div",{className:"flex-1 min-w-[100px]",children:[(0,l.jsx)("div",{className:"h-12 border-b border-gray-200 dark:border-gray-800 flex items-center justify-center font-semibold sticky top-0 bg-white dark:bg-black z-10 transition-all duration-200 ".concat(eT(e.full)?"bg-purple-50 dark:bg-purple-900/10":""),children:(0,l.jsxs)("div",{className:"text-center w-full py-1",children:[(0,l.jsx)("div",{className:"text-sm md:text-base font-bold tracking-wide ".concat(eT(e.full)?"text-purple-700 dark:text-purple-300":"text-purple-600 dark:text-purple-400"),children:e.short.toUpperCase()}),(0,l.jsx)("div",{className:"text-xs md:text-sm font-medium ".concat(eT(e.full)?"text-purple-600 dark:text-purple-400":"text-gray-500 dark:text-gray-400"),children:e.display}),eT(e.full)&&(0,l.jsx)("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-12 h-0.5 bg-purple-500 dark:bg-purple-400 rounded-full"})]})}),(0,l.jsxs)("div",{className:"relative",children:[eb.map(t=>(0,l.jsx)("div",{className:"task-cell h-12 border-b border-r border-gray-200 dark:border-gray-800 hover:bg-gray-100 dark:hover:bg-gray-800/50 transition-all duration-200 ease-in-out ".concat(er||eg?"cursor-copy":""),onClick:a=>eD(e.full,t,a),onMouseUp:()=>{eS(e.full,t),eA(e.full,t)}},"".concat(e.full,"-").concat(t))),C.filter(t=>t.days.includes(e.full)).map(e=>{let{top:t,height:a}=eE(e.gridPosition),r=(null==er?void 0:er.task.id)===e.id;return(0,l.jsxs)("div",{onMouseDown:t=>eF(e,t),onClick:t=>{t.stopPropagation(),er||eN(e,t)},className:"absolute inset-x-0 mx-0.5 p-1 rounded cursor-grab active:cursor-grabbing text-xs overflow-hidden \n                          transition-all duration-300 ease-in-out group\n                          ".concat(ey(e.type,e.completed),"\n                          group hover:z-10 hover:shadow-lg\n                          ").concat(r?"opacity-50 scale-95":"hover:scale-[1.02] hover:-translate-y-0.5","\n                        "),style:{top:t,height:a,userSelect:"none"},children:[(0,l.jsxs)("div",{className:"absolute top-0.5 right-0.5 flex gap-1 opacity-0 group-hover:opacity-100 transition-all duration-200 transform translate-y-1 group-hover:translate-y-0",children:[(0,l.jsx)("button",{onClick:t=>{t.stopPropagation(),ev(e.id)},className:"p-1 rounded bg-gray-800/70 hover:bg-gray-700/70 text-gray-300 hover:text-white transition-all duration-200 hover:scale-110",title:e.completed?"Desmarcar como conclu\xeddo":"Marcar como conclu\xeddo",children:(0,l.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,l.jsx)("button",{onClick:t=>{t.stopPropagation(),ej(e.id)},className:"p-1 rounded bg-gray-800/70 hover:bg-red-900/70 text-gray-300 hover:text-red-300 transition-all duration-200 hover:scale-110",title:"Excluir tarefa (Ctrl+Z para desfazer)",children:(0,l.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("span",{className:"transform transition-transform duration-200 group-hover:scale-110",children:e.type}),(0,l.jsx)("span",{className:"font-medium truncate",children:e.title})]}),e.startTime&&(0,l.jsxs)("div",{className:"text-[10px] md:text-[11px] font-medium text-gray-600 dark:text-gray-300",children:[e.startTime," - ",e.endTime]}),e.notes&&(0,l.jsx)("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none",children:(0,l.jsx)("div",{className:"absolute top-0 left-0 w-full h-full bg-black/50 rounded flex items-center justify-center p-2",children:(0,l.jsx)("div",{className:"text-[10px] md:text-[11px] text-white text-center break-words",children:e.notes})})})]})]},e.id)})]})]},e.full))})}),K&&(0,l.jsxs)("div",{className:"fixed bg-gray-900 shadow-2xl rounded-lg p-4 border border-gray-800 w-64",style:{left:null===(e=K.position)||void 0===e?void 0:e.x,top:null===(t=K.position)||void 0===t?void 0:t.y,transform:"translate(-50%, -100%)",zIndex:50},children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,l.jsx)("h3",{className:"font-medium",children:K.task.title}),(0,l.jsx)("button",{onClick:()=>X(null),className:"text-gray-400 hover:text-gray-200",children:"\xd7"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"text-sm text-gray-400",children:[K.task.startTime," - ",K.task.endTime]}),(0,l.jsx)("textarea",{value:K.task.notes||"",onChange:e=>T({...K.task,notes:e.target.value}),placeholder:"Adicionar notas...",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-sm",rows:3}),(0,l.jsxs)("div",{className:"flex justify-between pt-2",children:[(0,l.jsx)("button",{onClick:()=>{E(K.task.id),X(null)},className:"text-red-400 hover:text-red-300 text-sm",children:"Excluir"}),(0,l.jsx)("button",{onClick:()=>{H({...K.task,days:[eh[0].full],type:K.task.type||"\uD83D\uDCDD",notes:K.task.notes||""}),B(!0),X(null)},className:"text-purple-400 hover:text-purple-300 text-sm",children:"Editar"})]})]})]}),M&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 animate-fade-in",onClick:()=>{B(!1),$(!1),em(!1)},children:(0,l.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-6 w-full max-w-md transform transition-all duration-200 ease-in-out animate-scale-in",onClick:e=>e.stopPropagation(),children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Nova Tarefa"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"\xcdcone"}),(0,l.jsx)("button",{onClick:eM,className:"w-10 h-10 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg flex items-center justify-center text-xl",children:O.type}),V&&(0,l.jsx)(c.h,{onSelect:e=>{H({...O,type:e}),$(!1)},onClose:()=>$(!1)})]}),(0,l.jsxs)("div",{className:"flex-1 relative",children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"T\xedtulo"}),(0,l.jsx)("input",{type:"text",value:O.title,onChange:e=>{H({...O,title:e.target.value}),em(!0)},onFocus:()=>em(!0),className:"w-full px-3 py-2 bg-gray-100 dark:bg-gray-800 rounded-lg",placeholder:"Digite o t\xedtulo da tarefa"}),ex&&eL(O.title).length>0&&(0,l.jsx)("div",{className:"absolute z-10 mt-1 w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg",children:eL(O.title).map((e,t)=>(0,l.jsx)("button",{className:"w-full text-left px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",onClick:()=>{H({...O,title:e}),em(!1)},children:e},t))})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"In\xedcio"}),(0,l.jsx)("input",{type:"time",value:O.startTime,onChange:e=>H({...O,startTime:e.target.value}),className:"w-full px-3 py-2 bg-gray-100 dark:bg-gray-800 rounded-lg"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Fim"}),(0,l.jsx)("input",{type:"time",value:O.endTime,onChange:e=>H({...O,endTime:e.target.value}),className:"w-full px-3 py-2 bg-gray-100 dark:bg-gray-800 rounded-lg"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Dias"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:g.map(e=>(0,l.jsx)("button",{onClick:()=>{let t=h(e.value);H(e=>({...e,days:e.days.includes(t)?e.days.filter(e=>e!==t):[...e.days,t]}))},className:"px-3 py-1.5 rounded-full text-sm transition-all duration-200 ".concat(O.days.includes(h(e.value))?"bg-purple-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"),children:e.label},e.value))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Notas"}),(0,l.jsx)("textarea",{value:O.notes,onChange:e=>H({...O,notes:e.target.value}),className:"w-full px-3 py-2 bg-gray-100 dark:bg-gray-800 rounded-lg",rows:3,placeholder:"Adicionar notas (opcional)"})]})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[(0,l.jsx)("button",{onClick:()=>B(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg",children:"Cancelar"}),(0,l.jsx)("button",{onClick:ef,disabled:!O.title||0===O.days.length,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:"Salvar"})]})]})}),L&&(0,l.jsx)(b,{event:I.id?F.find(e=>e.id===I.id):void 0,onClose:()=>{z(!1),_(p)},onSave:e=>{if(e.id){let t={...e,id:e.id,source:"schedule"};P(t)}else{let a={...e,id:crypto.randomUUID(),source:"schedule"};S(a),ew(a)}z(!1),_(p)},onDelete:e=>{A(e),z(!1),_(p)}}),G&&(0,l.jsx)(x,{task:G,onClose:()=>J(null),onSave:eC,onDelete:E}),er&&en&&(0,l.jsx)("div",{className:"fixed z-50 pointer-events-none p-1 rounded text-xs w-[100px] overflow-hidden\n            ".concat(ey(er.task.type,er.task.completed),"\n            shadow-xl scale-105\n          "),style:{left:en.x-(null!==(v=null===(a=er.mouseOffset)||void 0===a?void 0:a.x)&&void 0!==v?v:0),top:en.y-(null!==(j=null===(y=er.mouseOffset)||void 0===y?void 0:y.y)&&void 0!==j?j:0),height:"48px"},children:(0,l.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("span",{children:er.task.type}),(0,l.jsx)("span",{className:"font-medium truncate",children:er.task.title})]}),er.task.startTime&&(0,l.jsxs)("div",{className:"text-[11px] font-medium text-gray-600 dark:text-gray-300",children:[er.task.startTime," - ",er.task.endTime]})]})}),eg&&en&&(0,l.jsx)("div",{className:"fixed z-50 pointer-events-none p-2 rounded text-xs bg-gray-100 dark:bg-gray-800/70 border-l-4 border-purple-500 shadow-xl w-[150px]",style:{left:en.x-(null!==(k=null===(D=eg.mouseOffset)||void 0===D?void 0:D.x)&&void 0!==k?k:0),top:en.y-(null!==(N=null===(f=eg.mouseOffset)||void 0===f?void 0:f.y)&&void 0!==N?N:0),height:"auto"},children:(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("span",{className:"text-lg",children:eg.type}),(0,l.jsx)("span",{className:"font-medium truncate",children:eg.title})]}),(0,l.jsxs)("div",{className:"text-[11px] font-medium text-gray-600 dark:text-gray-300",children:[eg.startTime," - ",eg.endTime]})]})}),eo.length>0&&(0,l.jsxs)("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white px-4 py-2 rounded-lg shadow-lg z-50 flex items-center gap-2",children:[(0,l.jsx)("span",{children:"Tarefa exclu\xedda"}),(0,l.jsx)("button",{onClick:ek,className:"text-purple-300 hover:text-purple-200 font-medium",children:"Desfazer (Ctrl+Z)"})]})]})};t.default=y}}]);